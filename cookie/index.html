<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cookie</title>
</head>
<body>

  <h2>Use localhost environment to test cookie, file:// protocol wont work with cookies</h2>
  <h3></h3>
  <button onclick="clearCookies()">Clear cookies</button>
  <script>
    document.cookie = "name=John Doe; path=/; max-age=30; SameSite=Lax";

    console.log(document.cookie)

    function getCookie(name) {
      const cookies = document.cookie.split("; ");
      for (const cookie of cookies) {
        const [key, value] = cookie.split("=");
        if (key === name) {
          return value;
        }
      }
      return null; // Return null if the cookie is not found
  }

  const name = getCookie("name");
  console.log(name); // Outputs: "John Doe" if within 30 seconds

  if(name != null) {
    document.querySelector("h3").textContent = `Cookie value is ${name}`;
  }

  function clearCookies() {
    document.cookie = "name=; path=/; max-age=0; SameSite=Lax";
    alert("Cookie 'name' cleared!");
  }
  </script>
</body>
</html>